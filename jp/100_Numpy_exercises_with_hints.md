


# numpy 100本ノック

この「100本ノック」は、numpyのメーリングリストやStack Overflowでの議論、およびその他のドキュメントをもとに作成しました。100問に到達するために、いくつか自作した問題も含まれます。この100本ノックのゴールは、numpyの新規ユーザーにも経験者にも有用なクイックリファレンスとなること、また、numpyを教育する人が利用できる実習問題セットの提供です。

誤りを見つけたり、もっとこうした方が良いというご意見があれば、ぜひ https://github.com/rougier/numpy-100 のissueにお寄せください。
このファイルは自動的に生成されています。問題、解答、ヒントを更新するにはドキュメントを参照してください。

#### 1. numpyパッケージを、`np`という名前でインポートしてください。(★☆☆)
`ヒント: import … as`
#### 2. numpyのバージョンと設定 (Config) を表示してください。(★☆☆)
`ヒント: np.__version__, np.show_config)`
#### 3. サイズ10のゼロ配列 (ベクトル) を作成してください。(★☆☆)
`ヒント: np.zeros`
#### 4. 任意の配列を作成し、そのサイズを表示してください。(★☆☆)
`ヒント: size, itemsize`
#### 5. numpyの `add` 関数についてのマニュアルをコマンドラインから参照してください。(★☆☆)
`ヒント: np.info`
#### 6. サイズ10のゼロ配列 (ベクトル) を作成し、5番目の要素に1を代入してください。(★☆☆)
`ヒント: array[4]`
#### 7. 10から49までの連番からなるベクトルを作成してください。(★☆☆)
`ヒント: arange`
#### 8. 0から49までの要素からなるベクトルを作成し、反転 (最初の要素を最後に表示) させてください。(★☆☆)
`ヒント: array[::-1]`
#### 9. 0から8の値からなる3x3の行列を作成してください。(★☆☆)
`ヒント: reshape`
#### 10. 配列 [1,2,0,0,4,0] から0でない要素のインデックスを取得してください。(★☆☆)
`ヒント: np.nonzero`
#### 11. 3x3の単位行列を作成してください。(★☆☆)
`ヒント: np.eye`
#### 12. ランダムな値からなる3x3x3の行列を作成してください。(★☆☆)
`ヒント: np.random.random`
#### 13. ランダムな値からなる10x10の行列を作成し、最小値と最大値を求めてください。(★☆☆)
`ヒント: min, max`
#### 14. ランダムな値からなるサイズ30の配列を作成し、平均値を求めてください。(★☆☆)
`ヒント: mean`
#### 15. 外周を1、内部を0とした10x10の行列を作成してください。(★☆☆)
`ヒント: array[1:-1, 1:-1]`
#### 16. 5x5の行列を作成し、周囲に0からなる要素を追加して囲んでください。(★☆☆)
`ヒント: np.pad`
#### 17. 以下のコードを実行した結果はどうなるか、確認してください。(★☆☆)
```python
0 * np.nan
np.nan == np.nan
np.inf > np.nan
np.nan - np.nan
np.nan in set([np.nan])
0.3 == 3 * 0.1
```
`ヒント: NaN = not a number, inf = infinity`
#### 18. 5x5の行列を作成し、対角線から1段下がった位置の要素を1, 2, 3, 4にしてください。(★☆☆)
`ヒント: np.diag`
#### 19. 市松模様 (Checkerboard pattern) になるよう、8x8の行列を作成してください。(★☆☆)
`ヒント: array[::2]`
#### 20. (6, 7, 8) の3次元配列について、100番目の値のインデックス (x, y, z) を求めてください。(★☆☆)
`ヒント: np.unravel_index`
#### 21. `tile` 関数を用いて8x8の市松模様 (Checkerboard pattern) になる行列を作成してください。(★☆☆)
`ヒント: np.tile`
#### 22. ランダムな値からなる5x5の行列の値を標準化してください。(★☆☆)
`ヒント: (x -mean)/std`
#### 23. RGBAの色情報を符号なしの4バイトであらわすデータについて、独自の型を定義してください。(★☆☆)
`ヒント: np.dtype`
#### 24. 5x3の行列に3x2の行列をかけてください。(実行列の積) (★☆☆)
`ヒント: np.dot`
#### 25. 1次元配列を作成し、3より大きく、8より小さい範囲の要素について、符号を反転してください。(★☆☆)
`ヒント: >, <`
#### 26. 以下のスクリプトの実行結果を確認してください。(★☆☆)
```python
# 解答例作者: Jake VanderPlas

print(sum(range(5),-1))
from numpy import *
print(sum(range(5),-1))
```
`ヒント: np.sum`
#### 27. 整数ベクトルZを作成し、以下のコードの実行結果を確認してください。(★☆☆)
```python
Z**Z
2 << Z >> 2
Z <- Z
1j*Z
Z/1/1
Z<Z>Z
```
`ヒントはありません`
#### 28. 以下のスクリプトの実行結果を確認してください。
```python
np.array(0) / np.array(0)
np.array(0) // np.array(0)
np.array([np.nan]).astype(int).astype(float)
```
`ヒントはありません`
#### 29. 浮動小数点数からなる行列を作成し、整数に変換 (丸め、切り上げ、切り捨て等) してください。(★☆☆)
`ヒント: np.uniform, np.copysign, np.ceil, np.abs, np.where`
#### 30. 2つの配列に共通して出現する値を抽出してください。(★☆☆)
`ヒント: np.intersect1d`
#### 31. numpyのすべての警告を無視するにはどのようにすればよいですか? (推奨はされません) (★☆☆)
`ヒント: np.seterr, np.errstate`
#### 32. 以下の条件式がTrueとなるか考察してください。(★☆☆)
```python
np.sqrt(-1) == np.emath.sqrt(-1)
```
`ヒント: 虚数`
#### 33. 昨日、今日、明日の日付を表示してください。(★☆☆)
`ヒント: np.datetime64, np.timedelta64`
#### 34. 2016年7月のすべての日付を表示してください。(★★☆)
`ヒント: np.arange(dtype=datetime64['D'])`
#### 35. オブジェクトをコピーせず上書きして、((A+B)*(-A/2)) の計算を行ってください。(A, B, Cの値は任意です)(★★☆)
`ヒント: np.add(out=), np.negative(out=), np.multiply(out=), np.divide(out=)`
#### 36. ランダムな値 (浮動小数点数) からなる配列から、整数部だけを取り出す方法を4パターン検討してください。(★★☆)
`ヒント: %, np.floor, astype, np.trunc`
#### 37. 各行の値が0, 1, 2, 3, 4となる、5x5の行列を作成してください。(★★☆)
`ヒント: np.arange`
#### 38. 10個の整数を生成するジェネレータ関数を定義し、それを用いた配列を作成してください。(★☆☆)
`ヒント: np.fromiter`
#### 39. 0 < Z < 1の範囲の数値からなるベクトルを作成してください。(★★☆)
`ヒント: np.linspace`
#### 40. 10個のランダムな値を生成し、昇順に並べ替えてください。(★★☆)
`ヒント: sort`
#### 41. `np.sum` よりも高速に小さなサイズの配列の合計を求める方法を検討してください。(★★☆)
`ヒント: np.add.reduce`
#### 42. 2つのランダムな値からなる配列を作成し、両者が同一であるかチェックしてください。(★★☆)
`ヒント: np.allclose, np.array_equal`
#### 43. イミュータブル (読み取り専用) な配列を作成してください。(★★☆)
`ヒント: flags.writeable`
#### 44. 直交座標系のランダムな値からなる10x2の行列について、極座標系に変換してください。(★★☆)
`ヒント: np.sqrt, np.arctan2`
#### 45. ランダムな10個の値からなるベクトルを作成し、最大値を0に置き換えてください。(★★☆)
`ヒント: argmax`
#### 46. `x` と `y` 座標からなる構造化配列を作成し、ともに [0, 1] の範囲の値を代入してください。(★★☆)
`ヒント: np.meshgrid`
#### 47. 2つの配列XとYを作成し、Cauchyの行列式$C (C_{ij} = 1 / (x_{i} - y_{j}))$ を適用してください。(★★☆)
`ヒント: np.subtract.outer`
#### 48. numpyの各スカラー型について、それぞれ使用できる最小値、最大値を表示してください。(★★☆)
`ヒント: np.iinfo, np.finfo, eps`
#### 49. 行列のすべての値を表示するにはどのようにすればよいですか? (★★☆)
`ヒント: np.set_printoptions`
#### 50. ベクトルにおいて、スカラーとして与えられた任意の値に、最も近い値を表示するにはどのようにすればよいですか? (★★☆)
`ヒント: argmin`
#### 51. 座標 (position) x, yと色情報 (color) r, g, bを要素に持つ構造化配列を作成してください。(★★☆)
`ヒント: dtype`
#### 52. ランダムな値による10x2の行列を作成し、要素を座標とみなして、点間のユークリッド距離を求めてください。(★★☆)
`ヒント: np.atleast_2d, T, np.sqrt`
#### 53. 32bit浮動小数点数からなる配列を32bit整数に変換してください。(★★☆)
`ヒント: view and [:] =`
#### 54. 以下の文字列を、入力ファイルとみなして読み込んでください。(★★☆)
```
1, 2, 3, 4, 5
6,  ,  , 7, 8
 ,  , 9,10,11
```
`ヒント: np.genfromtxt`
#### 55. numpy配列において、配列の要素とインデックスを同時に取得する方法を複数検討してください。(★★☆)
`ヒント: np.ndenumerate, np.ndindex`
#### 56. 2次元 (標準) 正規分布に従う配列 (要素数10) を作成してください。(★★☆)
`ヒント: np.meshgrid, np.exp`
#### 57. 2次元行列のランダムな位置の要素を1に置換してください。(★★☆)
`ヒント: np.put, np.random.choice`
#### 58. 行列の各要素について、行の平均を引いてください。(★★☆)
`ヒント: mean(axis=,keepdims=)`
#### 59. 行列をn列目 (任意) の値でソートしてください。(★★☆)
`ヒント: argsort`
#### 60. 2次元行列の要素にヌル値 (0, None, False, NaN) があるか確認するには、どのようにすればよいですか? (★★☆)
`ヒント: any, ~`
#### 61. 任意の数値を定義し、配列の値の中で最も近い値を出力してください。(★★☆)
`ヒント: np.abs, argmin, flat`
#### 62. イテレータを使い、(1, 3) の行列と (3, 1) の行列の和を計算してください。(★★☆)
`ヒント: np.nditer`
#### 63. `name` 属性 (アトリビュート) を持つ配列クラスを定義してください。(★★☆)
`ヒント: class method`
#### 64. 任意のベクトルについて、別のベクトルの値をインデックスとして使い、指定されるたびに、すべての要素に1を足してください (インデックスが複数回指定されうることに注意してください) 。(★★★)
`ヒント: np.bincount | np.add.at`
#### 65. ベクトルXについて、重みIを適用してカウントし、結果をベクトルFに格納してください。(★★★)
`ヒント: np.bincount`
#### 66. (dtype=ubyte) である画像データを格納した3次元行列 (w, h, 3) について、重複なく色情報を抽出してください。(★★★)
`ヒント: np.unique`
#### 67. 4次元行列について、3次元目と4次元目の和を1回で得るにはどのようにすればよいですか? (★★★)
`ヒント: sum(axis=(-2,-1))`
#### 68. 1次元配列Dについて、同じサイズの配列Sの値をインデックスとして用いて、抽出された要素の平均を計算してください。(★★★)
`ヒント: np.bincount`
#### 69. ドット積の対角成分を抽出してください。(★★★)
`ヒント: np.diag`
#### 70. ベクトル [1, 2, 3, 4, 5] について、各要素の間に0を3つ挟んで新しいベクトルを作成してください。(★★★)
`ヒント: array[::4]`
#### 71. (5, 5, 3) の3次元行列について、(5, 5) の2次元行列をかけてください。(★★★)
`ヒント: array[:, :, None]`
#### 72. 行列のある行とある行を入れ替えてください。(★★★)
`ヒント: array[[]] = array[[]]`
#### 73. 10組の3つの数の組み合わせを用いて、10個の (頂点を共有する) 三角形を作成し、一意な線分を抽出してください。(★★★)
`ヒント: repeat, np.roll, np.sort, view, np.unique`
#### 74. ある配列における値の出現回数をカウント (bincount) した結果の配列Cから、元の配列Aを復元してください。 (np.bincount(A) == C となるよう) (★★★)
`ヒント: np.repeat`
#### 75. 配列について、窓をスライドさせながら平均 (移動平均) を算出してください。(★★★)
`ヒント: np.cumsum`
#### 76. 1次元配列Zをもとに、最初の行が Z[0],Z[1],Z[2] で、順に1つずつ要素を後ろにずらし、最後が Z[-3],Z[-2],Z[-1] になる2次元行列を作成してください。(★★★)
`ヒント: from numpy.lib import stride_tricks`
#### 77. 論理値や浮動小数点の符号を上書きで反転させてください。(★★★)
`ヒント: np.logical_not, np.negative`
#### 78. 2次元座標の組P0とP1について、対応する要素間を結ぶ直線と、任意の点pがあった時、pと直線i (P0[i],P1[i]) との距離を求めてください。(★★★)
`ヒントはありません`
#### 79. 2次元座標の組P0とP1について、対応する要素間を結ぶ直線と、任意の座標ベクトルPがあった時、Pの各要素と直線i (P0[i],P1[i]) との距離を求めてください。(★★★)
`ヒントはありません`
#### 80. 任意の行列について、指定した要素が中心になるように一部を正方行列として取り出すコードを作成してください。必要であれば、周辺のゼロ埋め (`fill`) も検討してください。(★★★)
`ヒント: minimum maximum`
#### 81. 配列 Z = [1,2,3,4,5,6,7,8,9,10,11,12,13,14] から、配列 R = [[1,2,3,4], [2,3,4,5], [3,4,5,6], ..., [11,12,13,14]] を生成してください。(★★★)
`ヒント: stride_tricks.as_strided`
#### 82. 行列のランク (階数) を計算してください。(★★★)
`ヒント: np.linalg.svd`
#### 83. 配列の最頻値を求めてください。
`ヒント: np.bincount, argmax`
#### 84. ランダムな値からなる10x10の行列から、すべての連続する3x3の要素をブロックとして抽出してください。(★★★)
`ヒント: stride_tricks.as_strided`
#### 85. Z[i,j] == Z[j,i] となるような2次元の対称行列を作成してください。(★★★)
`ヒント: class method`
#### 86. 複数のサイズ (n, n) の行列pと、複数のサイズ (n, 1) のベクトルpがあった場合に、行列の積の和 (テンソル積) を求めるにはどのようにすればよいですか? 結果は (n, 1) の形で出力してください。(★★★)
`ヒント: np.tensordot`
#### 87. 16x16の行列について、4x4のブロックごとの和を計算してください。(★★★)
`ヒント: np.add.reduceat`
#### 88. numpy配列を用いてライフゲームを実装してください。(★★★)
`ヒントはありません`
#### 89. 配列から大きい順にn個の値を抽出してください。(★★★)
`ヒント: np.argsort | np.argpartition`
#### 90. 任意の要素数からなるベクトルについて、すべての要素、組み合わせのデカルト積を計算してください。(★★★)
`ヒント: np.indices`
#### 91. 通常の配列型からレコード型配列 (numpy.recarray) を作成してください。(★★★)
`ヒント: np.core.records.fromarrays`
#### 92. 巨大なベクトルZについて、$Z^{3}$を計算する方法を3つ検討してください。(★★★)
`ヒント: np.power, *, np.einsum`
#### 93. 行列A (8,3) とB (2, 2) について、順序を無視して、Bの各行の要素を含むAの行を抽出してください。(★★★)
`ヒント: np.where`
#### 94. 10x3の行列について、行の各要素の値が等しくない行だけを抽出してください。(例: [2, 2, 3]) (★★★)
`ヒントはありません`
#### 95. 整数ベクトルを2進数表記の行列 (各ビットが行列の要素に対応) に変換してください。(★★★)
`ヒント: np.unpackbits`
#### 96. 2次元行列から行の重複 (同じ要素からなる行) を除去してください。(★★★)
`ヒント: np.ascontiguousarray | np.unique`
#### 97. 2つのベクトルA, Bについて、内積、外積、和、乗算の処理を縮約記法を使って記述してください。(★★★)
`ヒント: np.einsum`
#### 98. 2つのベクトルX, Yで表現される曲線について、等間隔にサンプリングしてください。(★★★)
`ヒント: np.cumsum, np.interp`
#### 99. 整数nと2次元行列Xについて、次数nの多項分布からサンプリングされたと見なせるような行を抽出してください。次数nとは、抽出した値が整数のみからなり、合計するとnになるという意味です。(★★★)
`ヒント: np.logical_and.reduce, np.mod`
#### 100. 1次元配列Xについて、ブートストラップ法でN回サンプリングし、平均の95%信頼区間を求めてください。(★★★)
`ヒント: np.percentile`